-- Create the teacher table
CREATE TABLE teacher (
    teacher_id INT PRIMARY KEY,
    teacher_name VARCHAR(255),
    subject_taught VARCHAR(255)
);

-- Create the student table
CREATE TABLE student (
    student_id INT PRIMARY KEY,
    student_name VARCHAR(255),
    grade VARCHAR(10),
    school_id INT,
    FOREIGN KEY (school_id) REFERENCES school(school_id)
);

-- Create the school table
CREATE TABLE school (
    school_id INT PRIMARY KEY,
    school_name VARCHAR(255),
    location VARCHAR(255)
);

-- Insert some sample data into the tables
INSERT INTO teacher (teacher_id, teacher_name, subject_taught) VALUES
(1, 'John Smith', 'Math'),
(2, 'Jane Doe', 'English');

INSERT INTO school (school_id, school_name, location) VALUES
(1, 'High School A', 'City A'),
(2, 'High School B', 'City B');

INSERT INTO student (student_id, student_name, grade, school_id) VALUES
(101, 'Alice Johnson', '10th', 1),
(102, 'Bob Anderson', '9th', 2),
(103, 'Charlie Brown', '11th', 1);

-- Perform an INNER JOIN to combine data from all three tables
SELECT
    teacher.teacher_id,
    teacher.teacher_name,
    teacher.subject_taught,
    student.student_id,
    student.student_name,
    student.grade,
    school.school_name,
    school.location
FROM
    teacher
JOIN student ON teacher.teacher_id = student.school_id
JOIN school ON student.school_id = school.school_id;




			-------new with auto-increment-------


-- Create the 'teacher' table
CREATE TABLE teacher (
    teacher_id INT PRIMARY KEY AUTO_INCREMENT,
    teacher_name VARCHAR(255) NOT NULL,
    school_id INT,
    FOREIGN KEY (school_id) REFERENCES school(school_id)
);

-- Create the 'student' table
CREATE TABLE student (
    student_id INT PRIMARY KEY AUTO_INCREMENT,
    student_name VARCHAR(255) NOT NULL,
    school_id INT,
    FOREIGN KEY (school_id) REFERENCES school(school_id)
);

-- Create the 'school' table
CREATE TABLE school (
    school_id INT PRIMARY KEY AUTO_INCREMENT,
    school_name VARCHAR(255) NOT NULL
);

-- Insert some sample data into the tables
INSERT INTO school (school_name) VALUES
('School A'),
('School B');

INSERT INTO teacher (teacher_name, school_id) VALUES
('John Doe', 1),
('Jane Smith', 2);

INSERT INTO student (student_name, school_id) VALUES
('Alice Johnson', 1),
('Bob Miller', 2);

-- Use INNER JOIN to retrieve valuable data in a single table
SELECT 
    teacher.teacher_id AS teacher_id,
    teacher.teacher_name AS teacher_name,
    student.student_id AS student_id,
    student.student_name AS student_name,
    school.school_name AS school_name
FROM teacher
JOIN school ON teacher.school_id = school.school_id
JOIN student ON student.school_id = school.school_id;

